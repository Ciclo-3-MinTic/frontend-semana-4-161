{"version":3,"sources":["webpack:///./src/views/admin/Usuario.vue?5b60","webpack:///src/views/admin/Usuario.vue","webpack:///./src/views/admin/Usuario.vue?f745","webpack:///./src/views/admin/Usuario.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","dialog","expression","staticClass","_v","_s","title","roles","rol","nombre","email","tipo_documentos","tipo_documento","num_documento","telefono","direccion","on","$event","dialogAcepter","dialogpass","password","dialogPasswordAcepter","timeout","coloAlert","scopedSlots","_u","key","fn","ref","_b","snackbar","dialogAlert","textDialogAler","titles","dataUsers","headers","isloading","derechos","reroll","add","edit","desactive","active","staticRenderFns","components","DataTableBase","data","typeDialog","isloadingRoles","isloadingDocumentos","valida","id","created","listarRoles","listarDocumento","listar","$store","state","usuarios","methods","editItem","item","clearItem","openDialog","deactivateUsuario","activateUsuario","closeDialog","openDialogPassword","closeDialogPass","openDialogResponse","mensaje","type","validar","length","validarPass","isEmailUser","find","isDocumentoUser","updateUsuario","newUsuario","estado","headerToken","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VContainer","VDialog","VFlex","VIcon","VLayout","VSelect","VSnackbar","VSpacer","VTextField"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACE,MAAM,CAAC,cAAc,GAAG,UAAU,GAAG,cAAc,GAAG,MAAQ,KAAK,CAACF,EAAG,WAAW,CAACG,MAAM,CAACC,MAAOR,EAAU,OAAES,SAAS,SAAUC,GAAMV,EAAIW,OAAOD,GAAKE,WAAW,WAAW,CAACR,EAAG,SAAS,CAACA,EAAG,eAAe,CAACA,EAAG,OAAO,CAACS,YAAY,YAAY,CAACb,EAAIc,GAAGd,EAAIe,GAAGf,EAAIgB,YAAYZ,EAAG,cAAc,CAACA,EAAG,cAAc,CAACE,MAAM,CAAC,eAAe,KAAK,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,IAAM,GAAG,IAAM,GAAG,IAAM,KAAK,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQN,EAAIiB,MAAM,MAAQ,OAAOV,MAAM,CAACC,MAAOR,EAAO,IAAES,SAAS,SAAUC,GAAMV,EAAIkB,IAAIR,GAAKE,WAAW,UAAU,GAAGR,EAAG,SAAS,CAACE,MAAM,CAAC,IAAM,GAAG,IAAM,GAAG,IAAM,KAAK,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,UAAUC,MAAM,CAACC,MAAOR,EAAU,OAAES,SAAS,SAAUC,GAAMV,EAAImB,OAAOT,GAAKE,WAAW,aAAa,GAAGR,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,GAAG,IAAM,GAAG,IAAM,KAAK,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,QAAQ,MAAQ,SAASC,MAAM,CAACC,MAAOR,EAAS,MAAES,SAAS,SAAUC,GAAMV,EAAIoB,MAAMV,GAAKE,WAAW,YAAY,GAAGR,EAAG,SAAS,CAACE,MAAM,CAAC,IAAM,GAAG,IAAM,GAAG,IAAM,KAAK,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQN,EAAIqB,gBAAgB,MAAQ,yBAAyBd,MAAM,CAACC,MAAOR,EAAkB,eAAES,SAAS,SAAUC,GAAMV,EAAIsB,eAAeZ,GAAKE,WAAW,qBAAqB,GAAGR,EAAG,SAAS,CAACE,MAAM,CAAC,IAAM,GAAG,IAAM,GAAG,IAAM,KAAK,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,gBAAgB,KAAO,UAAUC,MAAM,CAACC,MAAOR,EAAiB,cAAES,SAAS,SAAUC,GAAMV,EAAIuB,cAAcb,GAAKE,WAAW,oBAAoB,GAAGR,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,GAAG,IAAM,GAAG,IAAM,KAAK,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,SAAS,MAAQ,YAAYC,MAAM,CAACC,MAAOR,EAAY,SAAES,SAAS,SAAUC,GAAMV,EAAIwB,SAASd,GAAKE,WAAW,eAAe,GAAGR,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,GAAG,IAAM,GAAG,IAAM,KAAK,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,YAAY,KAAO,aAAaC,MAAM,CAACC,MAAOR,EAAa,UAAES,SAAS,SAAUC,GAAMV,EAAIyB,UAAUf,GAAKE,WAAW,gBAAgB,IAAI,IAAI,IAAI,GAAGR,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,iBAAiBoB,GAAG,CAAC,MAAQ,SAASC,GAAQ3B,EAAIW,QAAS,KAAS,CAACX,EAAIc,GAAG,cAAcV,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,iBAAiBoB,GAAG,CAAC,MAAQ1B,EAAI4B,gBAAgB,CAAC5B,EAAIc,GAAG,cAAc,IAAI,IAAI,GAAGV,EAAG,WAAW,CAACG,MAAM,CAACC,MAAOR,EAAc,WAAES,SAAS,SAAUC,GAAMV,EAAI6B,WAAWnB,GAAKE,WAAW,eAAe,CAACR,EAAG,SAAS,CAACA,EAAG,eAAe,CAACA,EAAG,OAAO,CAACS,YAAY,YAAY,CAACb,EAAIc,GAAGd,EAAIe,GAAGf,EAAIgB,YAAYZ,EAAG,cAAc,CAACA,EAAG,cAAc,CAACE,MAAM,CAAC,eAAe,KAAK,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,GAAG,IAAM,GAAG,IAAM,KAAK,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,KAAO,WAAW,MAAQ,YAAYC,MAAM,CAACC,MAAOR,EAAY,SAAES,SAAS,SAAUC,GAAMV,EAAI8B,SAASpB,GAAKE,WAAW,eAAe,IAAI,IAAI,IAAI,GAAGR,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,iBAAiBoB,GAAG,CAAC,MAAQ,SAASC,GAAQ3B,EAAI6B,YAAa,KAAS,CAAC7B,EAAIc,GAAG,cAAcV,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,iBAAiBoB,GAAG,CAAC,MAAQ1B,EAAI+B,wBAAwB,CAAC/B,EAAIc,GAAG,cAAc,IAAI,IAAI,GAAGV,EAAG,aAAa,CAACE,MAAM,CAAC,QAAUN,EAAIgC,QAAQ,OAAS,GAAG,OAAS,GAAG,OAAS,GAAG,MAAQ,GAAG,WAAa,6BAA6B,MAAQhC,EAAIiC,WAAWC,YAAYlC,EAAImC,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,SAASC,GACpsG,IAAIhC,EAAQgC,EAAIhC,MAChB,MAAO,CAACF,EAAG,QAAQJ,EAAIuC,GAAG,CAAC1B,YAAY,cAAcP,MAAM,CAAC,MAAQ,GAAG,KAAO,IAAIoB,GAAG,CAAC,MAAQ,SAASC,GAAQ3B,EAAIwC,SAAWxC,EAAIyC,eAAe,QAAQnC,GAAM,GAAO,CAACF,EAAG,SAAS,CAACJ,EAAIc,GAAG,gBAAgB,QAAQP,MAAM,CAACC,MAAOR,EAAe,YAAES,SAAS,SAAUC,GAAMV,EAAIyC,YAAY/B,GAAKE,WAAW,gBAAgB,CAACR,EAAG,MAAM,CAACS,YAAY,0BAA0B,CAACb,EAAIc,GAAG,IAAId,EAAIe,GAAGf,EAAI0C,gBAAgB,SAAStC,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQN,EAAI2C,OAAO,KAAO3C,EAAI4C,UAAU,QAAU5C,EAAI6C,QAAQ,UAAY7C,EAAI8C,UAAU,SAAW9C,EAAI+C,UAAUrB,GAAG,CAAC,OAAS1B,EAAIgD,OAAO,IAAMhD,EAAIiD,IAAI,KAAOjD,EAAIkD,KAAK,UAAYlD,EAAImD,UAAU,OAASnD,EAAIoD,WAAW,IAC9oBC,EAAkB,G,6CCsItB,GACEC,WAAY,CACVC,cAAJ,QAGEC,KALF,WAMI,MAAO,CACL3B,YAAY,EAEZlB,QAAQ,EACR8C,WAAY,EAEZhB,aAAa,EACbC,eAAgB,GAChBT,UAAW,GACXD,QAAS,IAETe,SAAU,GACVD,WAAW,EACXY,gBAAgB,EAChBC,qBAAqB,EAErB3C,MAAO,UACP2B,OAAQ,WACRC,UAAW,GACX3B,MAAO,GACPI,gBAAiB,GACjBwB,QAAS,CACf,CAAQ,KAAR,SAAQ,MAAR,KAAQ,UAAR,EAAQ,MAAR,UACA,CAAQ,KAAR,SAAQ,MAAR,SAAQ,UAAR,EAAQ,MAAR,UACA,CACQ,KAAR,MACQ,MAAR,MACQ,UAAR,EACQ,MAAR,UAEA,CAAQ,KAAR,QAAQ,MAAR,QAAQ,UAAR,EAAQ,MAAR,UAEA,CACQ,KAAR,gBACQ,MAAR,gBACQ,UAAR,EACQ,MAAR,UAEA,CACQ,KAAR,YACQ,MAAR,YACQ,UAAR,EACQ,MAAR,UAEA,CACQ,KAAR,WACQ,MAAR,WACQ,UAAR,EACQ,MAAR,UAEA,CACQ,KAAR,SACQ,MAAR,SACQ,UAAR,EACQ,MAAR,UAEA,CACQ,KAAR,WACQ,MAAR,WACQ,UAAR,EACQ,MAAR,WAIMe,OAAQ,EACRC,GAAI,GACJ1C,OAAQ,GACRD,IAAK,GACLE,MAAO,GACPG,cAAe,GACfE,UAAW,GACXD,SAAU,GACVM,SAAU,GACVR,eAAgB,KAIpBwC,QAnFF,WAoFI7D,KAAK8D,cACL9D,KAAK+D,kBACL/D,KAAKgE,SACLhE,KAAK8C,SAAW9C,KAAKiE,OAAOC,MAAMpB,SAASqB,UAI7CC,QAAS,CACPC,SADJ,SACA,GACMrE,KAAK4D,GAAKU,EAAKV,GACf,KAAN,gBACA,eACA,mBACA,mCACA,2BACA,yBACA,sCAEIW,UAXJ,WAYMvE,KAAK4D,GAAK,GACV,KAAN,UACA,YACA,cACA,sBACA,kBACA,iBACA,wBAGIb,OAtBJ,WAuBM/C,KAAK6C,WAAY,EAEjB7C,KAAK8D,cACL9D,KAAK+D,kBACL/D,KAAKgE,UAEPhB,IA7BJ,WA8BMhD,KAAKwD,WAAa,EAClBxD,KAAKuE,YACLvE,KAAKwE,cAEPvB,KAlCJ,SAkCA,GACMjD,KAAKwD,WAAa,EAClBxD,KAAKqE,SAASC,GACdtE,KAAKwE,cAEPtB,UAvCJ,SAuCA,GACMlD,KAAK6C,WAAY,EACjB7C,KAAKyE,kBAAkBH,IAEzBnB,OA3CJ,SA2CA,GACMnD,KAAK6C,WAAY,EACjB7C,KAAK0E,gBAAgBJ,IAMvBE,WAnDJ,WAoDMxE,KAAKU,QAAS,GAEhBiE,YAtDJ,WAuDM3E,KAAKuE,YACLvE,KAAKU,QAAS,EACdV,KAAKwD,WAAa,GAGpBoB,mBA5DJ,WA6DM5E,KAAK4B,YAAa,GAEpBiD,gBA/DJ,WAgEM7E,KAAK4B,YAAa,EAClB5B,KAAK6B,SAAW,IAElBiD,mBAnEJ,SAmEA,KACM9E,KAAK+C,SACL/C,KAAKyC,eAAiBsC,EACtB/E,KAAK2E,cACL3E,KAAK6E,kBACL7E,KAAKgC,UAAYgD,EAAO,EAAI,SAAW,QACvChF,KAAK6C,WAAY,EACjB7C,KAAKwC,aAAc,GAKrByC,QA/EJ,WAqGM,OArBAjF,KAAK2D,OAAS,EAET3D,KAAKiB,IAGLjB,KAAKqB,eAINrB,KAAKkB,OAAOgE,OAAS,GAAKlF,KAAKkB,OAAOgE,OAGtClF,KAAKmB,MAAM+D,OAGXlF,KAAKsB,cAGLtB,KAAKuB,SAGFvB,KAAK2D,QAEdwB,YAvGJ,WAwGM,OAAOnF,KAAK6B,SAASqD,OAAS,GAEhCE,YA1GJ,SA0GA,GACM,OAAOpF,KAAK2C,UAAU0C,MAAK,SAAjC,0BAEIC,gBA7GJ,SA6GA,GACM,OAAOtF,KAAK2C,UAAU0C,MAAK,SAAjC,kCAII1D,cAlHJ,WAmHU3B,KAAKiF,UACHjF,KAAKwD,WACPxD,KAAK4E,qBAGD5E,KAAKoF,YAAYpF,KAAKmB,OACxBnB,KAAK8E,mBAAmB,EAAG,kBACvC,yCACY9E,KAAK8E,mBAAmB,EAAG,6BAE3B9E,KAAK4E,uBAKb9C,sBAlIJ,WAmIU9B,KAAKwD,WAEHxD,KAAKmF,YACPnF,KAAKuF,cAAc,CACjB3B,GAAI5D,KAAK4D,GACT3C,IAAKjB,KAAKiB,IACVC,OAAQlB,KAAKkB,OACbW,SAAU7B,KAAK6B,SACfR,eAAgBrB,KAAKqB,eACrBC,cAAetB,KAAKsB,cACpBE,UAAWxB,KAAKwB,UAChBD,SAAUvB,KAAKuB,WAGjBvB,KAAKuF,cAAc,CACjB3B,GAAI5D,KAAK4D,GACT3C,IAAKjB,KAAKiB,IACVC,OAAQlB,KAAKkB,OACbG,eAAgBrB,KAAKqB,eACrBC,cAAetB,KAAKsB,cACpBE,UAAWxB,KAAKwB,UAChBD,SAAUvB,KAAKuB,WAKfvB,KAAKmF,aACPnF,KAAKwF,WAAW,CACdvE,IAAKjB,KAAKiB,IACVC,OAAQlB,KAAKkB,OACbW,SAAU7B,KAAK6B,SACfV,MAAOnB,KAAKmB,MACZE,eAAgBrB,KAAKqB,eACrBC,cAAetB,KAAKsB,cACpBE,UAAWxB,KAAKwB,UAChBD,SAAUvB,KAAKuB,SACfkE,OAAQ,KAOhBC,YA9KJ,WA+KM,IAAN,kCACM,MAAO,CAAb,YAGI1B,OAnLJ,WAoLM,IAAN,OACM,EAAN,EACA,uCACA,kBACQ,EAAR,iBACQ,EAAR,gBAEA,mBACQ,EAAR,aACQ,QAAR,WAGIF,YAhMJ,WAiMM,IAAN,OACM,EAAN,EACA,gDACA,kBACQ,EAAR,gBAEA,mBACQ,EAAR,aACQ,QAAR,WAGIC,gBA5MJ,WA6MM,IAAN,OACM,EAAN,EACA,oDACA,kBACQ,EAAR,0BAEA,mBACQ,EAAR,aACQ,QAAR,WAIIyB,WAzNJ,SAyNA,GACM,IAAN,OACM,EAAN,EACA,yCACA,kBACQ,EAAR,gDAEA,mBACQ,EAAR,iDACQ,QAAR,WAGID,cArOJ,SAqOA,GACM,IAAN,OACM,EAAN,EACA,2CACA,kBACQ,EAAR,+CAEA,mBACQ,EAAR,sDACQ,QAAR,WAIIb,gBAlPJ,SAkPA,GACM,IAAN,OACM,EAAN,EACA,wBAAQ,GAAR,0BACA,kBACQ,EAAR,4CAEA,mBACQ,EAAR,wDAGID,kBA7PJ,SA6PA,GACM,IAAN,OACM,EAAN,EACA,0BAAQ,GAAR,0BACA,kBACQ,EAAR,4CAEA,mBACQ,EAAR,0DCzegW,I,iLCO5VkB,EAAY,eACd,EACA7F,EACAsD,GACA,EACA,KACA,KACA,MAIa,aAAAuC,EAAiB,QAkBhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAWC,aAAA,KAAWC,UAAA,KAAQC,QAAA,KAAMC,QAAA,KAAMC,UAAA,KAAQC,UAAA,KAAQC,YAAA,KAAUC,UAAA,KAAQC,aAAA","file":"js/chunk-2d0a387f.a9f8ad98.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"align-start\":\"\",\"d-block\":\"\",\"flex-column\":\"\",\"block\":\"\"}},[_c('v-dialog',{model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.title))])]),_c('v-card-text',[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs4\":\"\",\"sm3\":\"\",\"md2\":\"\"}},[_c('v-select',{attrs:{\"items\":_vm.roles,\"label\":\"Rol\"},model:{value:(_vm.rol),callback:function ($$v) {_vm.rol=$$v},expression:\"rol\"}})],1),_c('v-flex',{attrs:{\"xs8\":\"\",\"sm4\":\"\",\"md5\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Nombre\"},model:{value:(_vm.nombre),callback:function ($$v) {_vm.nombre=$$v},expression:\"nombre\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm5\":\"\",\"md5\":\"\"}},[_c('v-text-field',{attrs:{\"type\":\"email\",\"label\":\"email\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_c('v-flex',{attrs:{\"xs5\":\"\",\"sm4\":\"\",\"md3\":\"\"}},[_c('v-select',{attrs:{\"items\":_vm.tipo_documentos,\"label\":\"tipo de num_documento\"},model:{value:(_vm.tipo_documento),callback:function ($$v) {_vm.tipo_documento=$$v},expression:\"tipo_documento\"}})],1),_c('v-flex',{attrs:{\"xs7\":\"\",\"sm8\":\"\",\"md9\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"num_documento\",\"type\":\"number\"},model:{value:(_vm.num_documento),callback:function ($$v) {_vm.num_documento=$$v},expression:\"num_documento\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md6\":\"\"}},[_c('v-text-field',{attrs:{\"type\":\"number\",\"label\":\"telefono\"},model:{value:(_vm.telefono),callback:function ($$v) {_vm.telefono=$$v},expression:\"telefono\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md6\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"direccion\",\"type\":\"direccion\"},model:{value:(_vm.direccion),callback:function ($$v) {_vm.direccion=$$v},expression:\"direccion\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\"},on:{\"click\":function($event){_vm.dialog = false}}},[_vm._v(\"Cancelar\")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\"},on:{\"click\":_vm.dialogAcepter}},[_vm._v(\"Guardar\")])],1)],1)],1),_c('v-dialog',{model:{value:(_vm.dialogpass),callback:function ($$v) {_vm.dialogpass=$$v},expression:\"dialogpass\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.title))])]),_c('v-card-text',[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md6\":\"\"}},[_c('v-text-field',{attrs:{\"type\":\"password\",\"label\":\"password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\"},on:{\"click\":function($event){_vm.dialogpass = false}}},[_vm._v(\"Cancelar\")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\"},on:{\"click\":_vm.dialogPasswordAcepter}},[_vm._v(\"Guardar\")])],1)],1)],1),_c('v-snackbar',{attrs:{\"timeout\":_vm.timeout,\"center\":\"\",\"shaped\":\"\",\"bottom\":\"\",\"right\":\"\",\"transition\":\"slide-y-reverse-transition\",\"color\":_vm.coloAlert},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._b({staticClass:\"elevation-0\",attrs:{\"small\":\"\",\"icon\":\"\"},on:{\"click\":function($event){_vm.snackbar = _vm.dialogAlert}}},'v-btn',attrs,false),[_c('v-icon',[_vm._v(\"mdi-close\")])],1)]}}]),model:{value:(_vm.dialogAlert),callback:function ($$v) {_vm.dialogAlert=$$v},expression:\"dialogAlert\"}},[_c('div',{staticClass:\"text-center title text\"},[_vm._v(\" \"+_vm._s(_vm.textDialogAler)+\" \")])]),_c('data-table-base',{attrs:{\"title\":_vm.titles,\"data\":_vm.dataUsers,\"headers\":_vm.headers,\"isloading\":_vm.isloading,\"derechos\":_vm.derechos},on:{\"reroll\":_vm.reroll,\"add\":_vm.add,\"edit\":_vm.edit,\"desactive\":_vm.desactive,\"active\":_vm.active}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-layout align-start d-block flex-column block>\n    <v-dialog v-model=\"dialog\">\n      <v-card>\n        <v-card-title>\n          <span class=\"headline\">{{ title }}</span>\n        </v-card-title>\n        <v-card-text>\n          <v-container grid-list-md>\n            <v-layout wrap>\n              <v-flex xs4 sm3 md2>\n                <v-select v-model=\"rol\" :items=\"roles\" label=\"Rol\"> </v-select>\n              </v-flex>\n              <v-flex xs8 sm4 md5>\n                <v-text-field v-model=\"nombre\" label=\"Nombre\"> </v-text-field>\n              </v-flex>\n              <v-flex xs12 sm5 md5>\n                <v-text-field type=\"email\" v-model=\"email\" label=\"email\">\n                </v-text-field>\n              </v-flex>\n              <v-flex xs5 sm4 md3>\n                <v-select\n                  v-model=\"tipo_documento\"\n                  :items=\"tipo_documentos\"\n                  label=\"tipo de num_documento\"\n                >\n                </v-select>\n              </v-flex>\n              <v-flex xs7 sm8 md9>\n                <v-text-field\n                  v-model=\"num_documento\"\n                  label=\"num_documento\"\n                  type=\"number\"\n                >\n                </v-text-field>\n              </v-flex>\n\n              <v-flex xs12 sm6 md6>\n                <v-text-field type=\"number\" v-model=\"telefono\" label=\"telefono\">\n                </v-text-field>\n              </v-flex>\n              <v-flex xs12 sm6 md6>\n                <v-text-field\n                  v-model=\"direccion\"\n                  label=\"direccion\"\n                  type=\"direccion\"\n                >\n                </v-text-field>\n              </v-flex>\n            </v-layout>\n          </v-container>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"blue darken-1\" @click=\"dialog = false\">Cancelar</v-btn>\n          <v-btn color=\"blue darken-1\" @click=\"dialogAcepter\">Guardar</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-dialog v-model=\"dialogpass\">\n      <v-card>\n        <v-card-title>\n          <span class=\"headline\">{{ title }}</span>\n        </v-card-title>\n        <v-card-text>\n          <v-container grid-list-md>\n            <v-layout wrap>\n              <v-flex xs12 sm6 md6>\n                <v-text-field\n                  type=\"password\"\n                  v-model=\"password\"\n                  label=\"password\"\n                >\n                </v-text-field>\n              </v-flex>\n            </v-layout>\n          </v-container>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"blue darken-1\" @click=\"dialogpass = false\"\n            >Cancelar</v-btn\n          >\n          <v-btn color=\"blue darken-1\" @click=\"dialogPasswordAcepter\"\n            >Guardar</v-btn\n          >\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-snackbar\n      v-model=\"dialogAlert\"\n      :timeout=\"timeout\"\n      center\n      shaped\n      bottom\n      right\n      transition=\"slide-y-reverse-transition\"\n      :color=\"coloAlert\"\n    >\n      <div class=\"text-center title text\">\n        {{ textDialogAler }}\n      </div>\n\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn\n          small\n          icon\n          class=\"elevation-0\"\n          v-bind=\"attrs\"\n          @click=\"snackbar = dialogAlert\"\n        >\n          <v-icon>mdi-close</v-icon>\n        </v-btn>\n      </template>\n    </v-snackbar>\n\n    <data-table-base\n      :title=\"titles\"\n      :data=\"dataUsers\"\n      :headers=\"headers\"\n      :isloading=\"isloading\"\n      :derechos=\"derechos\"\n      @reroll=\"reroll\"\n      @add=\"add\"\n      @edit=\"edit\"\n      @desactive=\"desactive\"\n      @active=\"active\"\n    >\n    </data-table-base>\n  </v-layout>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport DataTableBase from \"@/components/DataTableBase.vue\";\nexport default {\n  components: {\n    DataTableBase,\n  },\n\n  data() {\n    return {\n      dialogpass: false,\n\n      dialog: false,\n      typeDialog: 0, //add=0, edit=1;\n\n      dialogAlert: false,\n      textDialogAler: \"\",\n      coloAlert: \"\",\n      timeout: 2000,\n\n      derechos: {},\n      isloading: true,\n      isloadingRoles: true,\n      isloadingDocumentos: true,\n\n      title: \"Usuario\",\n      titles: \"Usuarios\",\n      dataUsers: [],\n      roles: [],\n      tipo_documentos: [],\n      headers: [\n        { text: \"Código\", value: \"id\", sortable: true, align: \"center\" },\n        { text: \"Nombre\", value: \"nombre\", sortable: true, align: \"center\" },\n        {\n          text: \"Rol\",\n          value: \"rol\",\n          sortable: true,\n          align: \"center\",\n        },\n        { text: \"Email\", value: \"email\", sortable: true, align: \"center\" },\n\n        {\n          text: \"num_documento\",\n          value: \"num_documento\",\n          sortable: false,\n          align: \"center\",\n        },\n        {\n          text: \"Direccion\",\n          value: \"direccion\",\n          sortable: false,\n          align: \"center\",\n        },\n        {\n          text: \"Telefono\",\n          value: \"telefono\",\n          sortable: false,\n          align: \"center\",\n        },\n        {\n          text: \"Estado\",\n          value: \"estado\",\n          sortable: false,\n          align: \"center\",\n        },\n        {\n          text: \"Opciones\",\n          value: \"opciones\",\n          sortable: false,\n          align: \"center\",\n        },\n      ],\n\n      valida: 0,\n      id: \"\",\n      nombre: \"\",\n      rol: \"\",\n      email: \"\",\n      num_documento: \"\",\n      direccion: \"\",\n      telefono: \"\",\n      password: \"\",\n      tipo_documento: \"\",\n    };\n  },\n\n  created() {\n    this.listarRoles();\n    this.listarDocumento();\n    this.listar();\n    this.derechos = this.$store.state.derechos.usuarios;\n    /*   console.log(new Date('2020-12-22').toISOString().substr(0, 10));\n    console.log(new Date('2020-12-22')-Date.now()); */\n  },\n  methods: {\n    editItem(item) {\n      this.id = item.id;\n      (this.nombre = item.nombre),\n        (this.rol = item.rol),\n        (this.email = item.email),\n        (this.num_documento = item.num_documento),\n        (this.direccion = item.direccion),\n        (this.telefono = item.telefono),\n        (this.tipo_documento = item.tipo_documento);\n    },\n    clearItem() {\n      this.id = \"\";\n      (this.nombre = \"\"),\n        (this.rol = \"\"),\n        (this.email = \"\"),\n        (this.num_documento = \"\"),\n        (this.direccion = \"\"),\n        (this.telefono = \"\"),\n        (this.tipo_documento = \"\");\n    },\n    ///----inicio metodos de data table base\n    reroll() {\n      this.isloading = true;\n\n      this.listarRoles();\n      this.listarDocumento();\n      this.listar();\n    },\n    add() {\n      this.typeDialog = 0;\n      this.clearItem();\n      this.openDialog();\n    },\n    edit(item) {\n      this.typeDialog = 1;\n      this.editItem(item);\n      this.openDialog();\n    },\n    desactive(item) {\n      this.isloading = true;\n      this.deactivateUsuario(item);\n    },\n    active(item) {\n      this.isloading = true;\n      this.activateUsuario(item);\n    },\n\n    //----fin metodos data table base\n\n    //-- inicio dialogos\n    openDialog() {\n      this.dialog = true;\n    },\n    closeDialog() {\n      this.clearItem();\n      this.dialog = false;\n      this.typeDialog = 0;\n    },\n\n    openDialogPassword() {\n      this.dialogpass = true;\n    },\n    closeDialogPass() {\n      this.dialogpass = false;\n      this.password = \"\";\n    },\n    openDialogResponse(type, mensaje) {\n      this.reroll();\n      this.textDialogAler = mensaje;\n      this.closeDialog();\n      this.closeDialogPass();\n      this.coloAlert = type > 0 ? \"accent\" : \"error\";\n      this.isloading = false;\n      this.dialogAlert = true;\n    },\n    //-- fin dialogos\n\n    //---inicio validaciones\n    validar() {\n      this.valida = 0;\n\n      if (!this.rol) {\n        //falta de rol\n      }\n      if (!this.tipo_documento) {\n        //falta de rol\n      }\n\n      if (this.nombre.length < 1 || this.nombre.length > 50) {\n        // nombre muy corto o muy largo\n      }\n      if (this.email.length < 1) {\n        // email muy corto\n      }\n      if (this.num_documento < 1) {\n        // num_documento muy corto\n      }\n      if (this.telefono < 1) {\n        // telefono muy corto\n      }\n      return this.valida;\n    },\n    validarPass() {\n      return this.password.length > 6;\n    },\n    isEmailUser(email) {\n      return this.dataUsers.find((user) => user.email === email);\n    },\n    isDocumentoUser(documento) {\n      return this.dataUsers.find((user) => user.num_documento === documento);\n    },\n    //-- fin validaciones\n\n    dialogAcepter() {\n      if (this.validar) {\n        if (this.typeDialog) {\n          this.openDialogPassword();\n        } else {\n          //add\n          if (this.isEmailUser(this.email)) {\n            this.openDialogResponse(0, \"email ya usado\");\n          } else if (this.isDocumentoUser(this.num_documento)) {\n            this.openDialogResponse(0, \"numero documento ya usado\");\n          } else {\n            this.openDialogPassword();\n          }\n        }\n      }\n    },\n    dialogPasswordAcepter() {\n      if (this.typeDialog) {\n        //edit\n        if (this.validarPass) {\n          this.updateUsuario({\n            id: this.id,\n            rol: this.rol,\n            nombre: this.nombre,\n            password: this.password,\n            tipo_documento: this.tipo_documento,\n            num_documento: this.num_documento,\n            direccion: this.direccion,\n            telefono: this.telefono,\n          });\n        } else {\n          this.updateUsuario({\n            id: this.id,\n            rol: this.rol,\n            nombre: this.nombre,\n            tipo_documento: this.tipo_documento,\n            num_documento: this.num_documento,\n            direccion: this.direccion,\n            telefono: this.telefono,\n          });\n        }\n      } else {\n        //add\n        if (this.validarPass) {\n          this.newUsuario({\n            rol: this.rol,\n            nombre: this.nombre,\n            password: this.password,\n            email: this.email,\n            tipo_documento: this.tipo_documento,\n            num_documento: this.num_documento,\n            direccion: this.direccion,\n            telefono: this.telefono,\n            estado: 0,\n          });\n        }\n      }\n    },\n\n    //--- accions hacia la api--\n    headerToken() {\n      let header = { Token: this.$store.state.token };\n      return { headers: header };\n    },\n\n    listar() {\n      let me = this;\n      axios\n        .get(\"usuario/list\", this.headerToken())\n        .then(function (response) {\n          me.dataUsers = response.data;\n          me.isloading = false;\n        })\n        .catch(function (error) {\n          me.isloading = false;\n          console.log(error);\n        });\n    },\n    listarRoles() {\n      let me = this;\n      axios\n        .get(\"usuario/listTypeRoles\", this.headerToken())\n        .then(function (response) {\n          me.roles = response.data;\n        })\n        .catch(function (error) {\n          me.isloading = false;\n          console.log(error);\n        });\n    },\n    listarDocumento() {\n      let me = this;\n      axios\n        .get(\"usuario/listTypeDocumento\", this.headerToken())\n        .then(function (response) {\n          me.tipo_documentos = response.data;\n        })\n        .catch(function (error) {\n          me.isloading = false;\n          console.log(error);\n        });\n    },\n\n    newUsuario(usuario) {\n      let me = this;\n      axios\n        .post(\"usuario/add\", usuario, this.headerToken())\n        .then(function (response) {\n          me.openDialogResponse(1, \"nuevo usuario creado\");\n        })\n        .catch(function (error) {\n          me.openDialogResponse(0, \"no se puede crear usuaro\");\n          console.log(error);\n        });\n    },\n    updateUsuario(usuario) {\n      let me = this;\n      axios\n        .put(\"usuario/update\", usuario, this.headerToken())\n        .then(function (response) {\n          me.openDialogResponse(1, \"usuario actualizado\");\n        })\n        .catch(function (error) {\n          me.openDialogResponse(0, \"no se puede actualizar usuaro\");\n          console.log(error);\n        });\n    },\n\n    activateUsuario(usuario) {\n      let me = this;\n      axios\n        .put(\"usuario/activate\", { id: usuario.id }, this.headerToken())\n        .then(function (response) {\n          me.openDialogResponse(1, \"usuario activado\");\n        })\n        .catch(function (error) {\n          me.openDialogResponse(0, \"no se puede activar usuario\");\n        });\n    },\n    deactivateUsuario(usuario) {\n      let me = this;\n      axios\n        .put(\"usuario/deactivate\", { id: usuario.id }, this.headerToken())\n        .then(function (response) {\n          me.openDialogResponse(1, \"usuario activado\");\n        })\n        .catch(function (error) {\n          me.openDialogResponse(0, \"no se puede activar usuario\");\n        });\n    },\n\n    //--- fin accions hacia la api--\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Usuario.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Usuario.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Usuario.vue?vue&type=template&id=7d8a4b18&\"\nimport script from \"./Usuario.vue?vue&type=script&lang=js&\"\nexport * from \"./Usuario.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VContainer,VDialog,VFlex,VIcon,VLayout,VSelect,VSnackbar,VSpacer,VTextField})\n"],"sourceRoot":""}