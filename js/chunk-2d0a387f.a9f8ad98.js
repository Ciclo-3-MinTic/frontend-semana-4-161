(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a387f"],{"0328":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-layout",{attrs:{"align-start":"","d-block":"","flex-column":"",block:""}},[o("v-dialog",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[t._v(t._s(t.title))])]),o("v-card-text",[o("v-container",{attrs:{"grid-list-md":""}},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs4:"",sm3:"",md2:""}},[o("v-select",{attrs:{items:t.roles,label:"Rol"},model:{value:t.rol,callback:function(e){t.rol=e},expression:"rol"}})],1),o("v-flex",{attrs:{xs8:"",sm4:"",md5:""}},[o("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),o("v-flex",{attrs:{xs12:"",sm5:"",md5:""}},[o("v-text-field",{attrs:{type:"email",label:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),o("v-flex",{attrs:{xs5:"",sm4:"",md3:""}},[o("v-select",{attrs:{items:t.tipo_documentos,label:"tipo de num_documento"},model:{value:t.tipo_documento,callback:function(e){t.tipo_documento=e},expression:"tipo_documento"}})],1),o("v-flex",{attrs:{xs7:"",sm8:"",md9:""}},[o("v-text-field",{attrs:{label:"num_documento",type:"number"},model:{value:t.num_documento,callback:function(e){t.num_documento=e},expression:"num_documento"}})],1),o("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[o("v-text-field",{attrs:{type:"number",label:"telefono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),o("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[o("v-text-field",{attrs:{label:"direccion",type:"direccion"},model:{value:t.direccion,callback:function(e){t.direccion=e},expression:"direccion"}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1"},on:{click:function(e){t.dialog=!1}}},[t._v("Cancelar")]),o("v-btn",{attrs:{color:"blue darken-1"},on:{click:t.dialogAcepter}},[t._v("Guardar")])],1)],1)],1),o("v-dialog",{model:{value:t.dialogpass,callback:function(e){t.dialogpass=e},expression:"dialogpass"}},[o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[t._v(t._s(t.title))])]),o("v-card-text",[o("v-container",{attrs:{"grid-list-md":""}},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[o("v-text-field",{attrs:{type:"password",label:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1"},on:{click:function(e){t.dialogpass=!1}}},[t._v("Cancelar")]),o("v-btn",{attrs:{color:"blue darken-1"},on:{click:t.dialogPasswordAcepter}},[t._v("Guardar")])],1)],1)],1),o("v-snackbar",{attrs:{timeout:t.timeout,center:"",shaped:"",bottom:"",right:"",transition:"slide-y-reverse-transition",color:t.coloAlert},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.attrs;return[o("v-btn",t._b({staticClass:"elevation-0",attrs:{small:"",icon:""},on:{click:function(e){t.snackbar=t.dialogAlert}}},"v-btn",i,!1),[o("v-icon",[t._v("mdi-close")])],1)]}}]),model:{value:t.dialogAlert,callback:function(e){t.dialogAlert=e},expression:"dialogAlert"}},[o("div",{staticClass:"text-center title text"},[t._v(" "+t._s(t.textDialogAler)+" ")])]),o("data-table-base",{attrs:{title:t.titles,data:t.dataUsers,headers:t.headers,isloading:t.isloading,derechos:t.derechos},on:{reroll:t.reroll,add:t.add,edit:t.edit,desactive:t.desactive,active:t.active}})],1)},a=[],s=(o("7db0"),o("bc3a")),n=o.n(s),l=o("1db0"),r={components:{DataTableBase:l["a"]},data:function(){return{dialogpass:!1,dialog:!1,typeDialog:0,dialogAlert:!1,textDialogAler:"",coloAlert:"",timeout:2e3,derechos:{},isloading:!0,isloadingRoles:!0,isloadingDocumentos:!0,title:"Usuario",titles:"Usuarios",dataUsers:[],roles:[],tipo_documentos:[],headers:[{text:"CÃ³digo",value:"id",sortable:!0,align:"center"},{text:"Nombre",value:"nombre",sortable:!0,align:"center"},{text:"Rol",value:"rol",sortable:!0,align:"center"},{text:"Email",value:"email",sortable:!0,align:"center"},{text:"num_documento",value:"num_documento",sortable:!1,align:"center"},{text:"Direccion",value:"direccion",sortable:!1,align:"center"},{text:"Telefono",value:"telefono",sortable:!1,align:"center"},{text:"Estado",value:"estado",sortable:!1,align:"center"},{text:"Opciones",value:"opciones",sortable:!1,align:"center"}],valida:0,id:"",nombre:"",rol:"",email:"",num_documento:"",direccion:"",telefono:"",password:"",tipo_documento:""}},created:function(){this.listarRoles(),this.listarDocumento(),this.listar(),this.derechos=this.$store.state.derechos.usuarios},methods:{editItem:function(t){this.id=t.id,this.nombre=t.nombre,this.rol=t.rol,this.email=t.email,this.num_documento=t.num_documento,this.direccion=t.direccion,this.telefono=t.telefono,this.tipo_documento=t.tipo_documento},clearItem:function(){this.id="",this.nombre="",this.rol="",this.email="",this.num_documento="",this.direccion="",this.telefono="",this.tipo_documento=""},reroll:function(){this.isloading=!0,this.listarRoles(),this.listarDocumento(),this.listar()},add:function(){this.typeDialog=0,this.clearItem(),this.openDialog()},edit:function(t){this.typeDialog=1,this.editItem(t),this.openDialog()},desactive:function(t){this.isloading=!0,this.deactivateUsuario(t)},active:function(t){this.isloading=!0,this.activateUsuario(t)},openDialog:function(){this.dialog=!0},closeDialog:function(){this.clearItem(),this.dialog=!1,this.typeDialog=0},openDialogPassword:function(){this.dialogpass=!0},closeDialogPass:function(){this.dialogpass=!1,this.password=""},openDialogResponse:function(t,e){this.reroll(),this.textDialogAler=e,this.closeDialog(),this.closeDialogPass(),this.coloAlert=t>0?"accent":"error",this.isloading=!1,this.dialogAlert=!0},validar:function(){return this.valida=0,this.rol,this.tipo_documento,this.nombre.length<1||this.nombre.length,this.email.length,this.num_documento,this.telefono,this.valida},validarPass:function(){return this.password.length>6},isEmailUser:function(t){return this.dataUsers.find((function(e){return e.email===t}))},isDocumentoUser:function(t){return this.dataUsers.find((function(e){return e.num_documento===t}))},dialogAcepter:function(){this.validar&&(this.typeDialog?this.openDialogPassword():this.isEmailUser(this.email)?this.openDialogResponse(0,"email ya usado"):this.isDocumentoUser(this.num_documento)?this.openDialogResponse(0,"numero documento ya usado"):this.openDialogPassword())},dialogPasswordAcepter:function(){this.typeDialog?this.validarPass?this.updateUsuario({id:this.id,rol:this.rol,nombre:this.nombre,password:this.password,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direccion:this.direccion,telefono:this.telefono}):this.updateUsuario({id:this.id,rol:this.rol,nombre:this.nombre,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direccion:this.direccion,telefono:this.telefono}):this.validarPass&&this.newUsuario({rol:this.rol,nombre:this.nombre,password:this.password,email:this.email,tipo_documento:this.tipo_documento,num_documento:this.num_documento,direccion:this.direccion,telefono:this.telefono,estado:0})},headerToken:function(){var t={Token:this.$store.state.token};return{headers:t}},listar:function(){var t=this;n.a.get("usuario/list",this.headerToken()).then((function(e){t.dataUsers=e.data,t.isloading=!1})).catch((function(e){t.isloading=!1,console.log(e)}))},listarRoles:function(){var t=this;n.a.get("usuario/listTypeRoles",this.headerToken()).then((function(e){t.roles=e.data})).catch((function(e){t.isloading=!1,console.log(e)}))},listarDocumento:function(){var t=this;n.a.get("usuario/listTypeDocumento",this.headerToken()).then((function(e){t.tipo_documentos=e.data})).catch((function(e){t.isloading=!1,console.log(e)}))},newUsuario:function(t){var e=this;n.a.post("usuario/add",t,this.headerToken()).then((function(t){e.openDialogResponse(1,"nuevo usuario creado")})).catch((function(t){e.openDialogResponse(0,"no se puede crear usuaro"),console.log(t)}))},updateUsuario:function(t){var e=this;n.a.put("usuario/update",t,this.headerToken()).then((function(t){e.openDialogResponse(1,"usuario actualizado")})).catch((function(t){e.openDialogResponse(0,"no se puede actualizar usuaro"),console.log(t)}))},activateUsuario:function(t){var e=this;n.a.put("usuario/activate",{id:t.id},this.headerToken()).then((function(t){e.openDialogResponse(1,"usuario activado")})).catch((function(t){e.openDialogResponse(0,"no se puede activar usuario")}))},deactivateUsuario:function(t){var e=this;n.a.put("usuario/deactivate",{id:t.id},this.headerToken()).then((function(t){e.openDialogResponse(1,"usuario activado")})).catch((function(t){e.openDialogResponse(0,"no se puede activar usuario")}))}}},c=r,d=o("2877"),u=o("6544"),h=o.n(u),m=o("8336"),p=o("b0af"),v=o("99d9"),f=o("a523"),g=o("169a"),b=o("0e8f"),x=o("132d"),_=o("a722"),D=o("b974"),k=o("2db4"),w=o("2fa4"),y=o("8654"),U=Object(d["a"])(c,i,a,!1,null,null,null);e["default"]=U.exports;h()(U,{VBtn:m["a"],VCard:p["a"],VCardActions:v["a"],VCardText:v["b"],VCardTitle:v["c"],VContainer:f["a"],VDialog:g["a"],VFlex:b["a"],VIcon:x["a"],VLayout:_["a"],VSelect:D["a"],VSnackbar:k["a"],VSpacer:w["a"],VTextField:y["a"]})}}]);
//# sourceMappingURL=chunk-2d0a387f.a9f8ad98.js.map