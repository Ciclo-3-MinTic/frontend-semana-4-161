(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0efa6556"],{1681:function(t,e,a){},"72dd":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"align-start":"","d-block":"","flex-column":"",block:""}},[a("v-dialog",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.title))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:"",md3:""}},[a("v-select",{attrs:{items:t.dataCategorias,label:"tipo de articulos",hint:t.categoria.id+" : "+t.categoria.nombre,"item-text":"nombre","item-value":"id","persistent-hint":"","return-object":"","single-line":"",loading:t.loadingCategorias},model:{value:t.categoria,callback:function(e){t.categoria=e},expression:"categoria"}})],1),a("v-flex",{attrs:{xs8:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-flex",{attrs:{xs4:"",sm2:"",md3:""}},[a("v-text-field",{attrs:{label:"codigo"},model:{value:t.codigo,callback:function(e){t.codigo=e},expression:"codigo"}})],1),a("v-flex",{attrs:{xs8:""}},[a("v-text-field",{attrs:{type:"number",label:"precio"},model:{value:t.precio_venta,callback:function(e){t.precio_venta=e},expression:"precio_venta"}})],1),a("v-flex",{attrs:{xs4:""}},[a("v-text-field",{attrs:{type:"number",label:"Stock"},model:{value:t.stock,callback:function(e){t.stock=e},expression:"stock"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{outlined:"",rows:"3","auto-grow":"",label:"descripcion"},model:{value:t.descripcion,callback:function(e){t.descripcion=e},expression:"descripcion"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1"},on:{click:function(e){t.dialog=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1"},on:{click:t.dialogAcepter}},[t._v("Guardar")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:t.timeout,center:"",shaped:"",bottom:"",right:"",transition:"slide-y-reverse-transition",color:t.coloAlert},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.attrs;return[a("v-btn",t._b({staticClass:"elevation-0",attrs:{small:"",icon:""},on:{click:function(e){t.snackbar=t.dialogAlert}}},"v-btn",i,!1),[a("v-icon",[t._v("mdi-close")])],1)]}}]),model:{value:t.dialogAlert,callback:function(e){t.dialogAlert=e},expression:"dialogAlert"}},[a("div",{staticClass:"text-center title text"},[t._v(" "+t._s(t.textDialogAler)+" ")])]),a("data-table-base",{attrs:{title:t.titles,data:t.dataArticulos,headers:t.headers,isloading:t.isloading,derechos:t.derechos},on:{reroll:t.reroll,add:t.add,edit:t.edit,desactive:t.desactive,active:t.active}})],1)},o=[],s=a("bc3a"),n=a.n(s),c=a("1db0"),r={components:{DataTableBase:c["a"]},data:function(){return{dialog:!1,typeDialog:0,dialogAlert:!1,textDialogAler:"",coloAlert:"",timeout:2e3,derechos:{},isloading:!0,loadingCategorias:!0,title:"Articulo",titles:"Articulos",dataArticulos:[],dataCategorias:[],articulos:[],tipo_documentos:[],headers:[{text:"CÃ³digo",value:"codigo",sortable:!0,align:"center"},{text:"Nombre",value:"nombre",sortable:!0,align:"center"},{text:"articulo",value:"categoria.nombre",sortable:!0,align:"center"},{text:"Descripcion",value:"descripcion",sortable:!1,align:"center"},{text:"Precio",value:"precio_venta",sortable:!0,align:"center"},{text:"Stock",value:"stock",sortable:!0,align:"center"},{text:"Estado",value:"estado",sortable:!0,align:"center"},{text:"Opciones",value:"opciones",sortable:!1,align:"center"}],valida:0,categoria:{},id:"",categoriaId:"",nombre:"",codigo:"",precio_venta:"",stock:"",descripcion:"",estado:0}},created:function(){this.listar(),this.derechos=this.$store.state.derechos.articulos},methods:{editItem:function(t){this.categoria=t.categoria,this.id=t.id,this.categoriaId=t.categoriaId,this.nombre=t.nombre,this.codigo=t.codigo,this.precio_venta=t.precio_venta,this.stock=t.stock,this.descripcion=t.descripcion,this.estado=t.estado},clearItem:function(){this.categoria="",this.id="",this.categoriaId="",this.nombre="",this.codigo="",this.precio_venta="",this.stock="",this.descripcion="",this.estado=""},reroll:function(){this.isloading=!0,this.listar()},add:function(){this.typeDialog=0,this.clearItem(),this.openDialog()},edit:function(t){this.typeDialog=1,this.editItem(t),this.openDialog()},desactive:function(t){this.isloading=!0,this.deactivateArticulo(t)},active:function(t){this.isloading=!0,this.activateArticulo(t)},openDialog:function(){this.dialog=!0,this.loadingCategorias=!0,this.listar_categorias()},closeDialog:function(){this.clearItem(),this.dialog=!1,this.typeDialog=0},openDialogResponse:function(t,e){this.reroll(),this.textDialogAler=e,this.closeDialog(),this.coloAlert=t>0?"accent":"error",this.isloading=!1,this.dialogAlert=!0},validar:function(){return this.valida=0,this.nombre.length<1||this.nombre.length,this.descripcion,this.valida},dialogAcepter:function(){console.log(this.categoria),this.validar&&(this.typeDialog?this.updateArticulo({id:this.id,categoriaId:this.categoria.id,nombre:this.nombre,codigo:this.codigo,precio_venta:this.precio_venta,stock:this.stock,descripcion:this.descripcion,estado:this.estado}):this.newArticulo({categoriaId:this.categoria.id,nombre:this.nombre,codigo:this.codigo,precio_venta:this.precio_venta,stock:this.stock,descripcion:this.descripcion,estado:this.estado}))},headerToken:function(){var t={Token:this.$store.state.token};return{headers:t}},listar:function(){var t=this;n.a.get("articulo/list",this.headerToken()).then((function(e){t.dataArticulos=e.data,t.isloading=!1})).catch((function(e){t.isloading=!1,console.log(e)}))},listar_categorias:function(){var t=this;n.a.get("categoria/list",this.headerToken()).then((function(e){t.dataCategorias=e.data,t.loadingCategorias=!1})).catch((function(e){t.loadingCategorias=!1,console.log(e)}))},newArticulo:function(t){var e=this;n.a.post("articulo/add",t,this.headerToken()).then((function(t){e.openDialogResponse(1,"nuevo articulo creado")})).catch((function(t){e.openDialogResponse(0,"no se puede crear usuaro"),console.log(t)}))},updateArticulo:function(t){var e=this;n.a.put("articulo/update",t,this.headerToken()).then((function(t){e.openDialogResponse(1,"articulo actualizado")})).catch((function(t){e.openDialogResponse(0,"no se puede actualizar usuaro"),console.log(t)}))},activateArticulo:function(t){var e=this;n.a.put("articulo/activate",{id:t.id},this.headerToken()).then((function(t){e.openDialogResponse(1,"articulo activado")})).catch((function(t){e.openDialogResponse(0,"no se puede activar articulo")}))},deactivateArticulo:function(t){var e=this;n.a.put("articulo/deactivate",{id:t.id},this.headerToken()).then((function(t){e.openDialogResponse(1,"articulo activado")})).catch((function(t){e.openDialogResponse(0,"no se puede activar articulo")}))}}},l=r,d=a("2877"),u=a("6544"),h=a.n(u),g=a("8336"),p=a("b0af"),v=a("99d9"),f=a("a523"),b=a("169a"),m=a("0e8f"),x=a("132d"),k=a("a722"),w=a("b974"),A=a("2db4"),D=a("2fa4"),_=a("8654"),I=a("a844"),y=Object(d["a"])(l,i,o,!1,null,null,null);e["default"]=y.exports;h()(y,{VBtn:g["a"],VCard:p["a"],VCardActions:v["a"],VCardText:v["b"],VCardTitle:v["c"],VContainer:f["a"],VDialog:b["a"],VFlex:m["a"],VIcon:x["a"],VLayout:k["a"],VSelect:w["a"],VSnackbar:A["a"],VSpacer:D["a"],VTextField:_["a"],VTextarea:I["a"]})},a844:function(t,e,a){"use strict";a("a9e3");var i=a("5530"),o=(a("1681"),a("8654")),s=a("58df"),n=Object(s["a"])(o["a"]);e["a"]=n.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(i["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},o["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"}},genInput:function(){var t=o["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){o["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})}}]);
//# sourceMappingURL=chunk-0efa6556.248d96b5.js.map